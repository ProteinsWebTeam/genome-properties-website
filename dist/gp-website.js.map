{"version":3,"file":"gp-website.js","sources":["../src/genprop-parser.js","../src/genprop-hierarchy-parser.js","../src/index.js"],"sourcesContent":["const mainKeys = {\n  AC: 'accession',\n  DE: 'name',\n  TP: 'type',\n  TH: 'threshold',\n};\nconst refKeys = {\n  RM:\t'PMID',\n  RT:\t'title',\n  RA:\t'author',\n  RL:\t'citation',\n}\nconst stepKeys = {\n  ID:\t'id',\n  DN:\t'name',\n  RQ:\t'requires',\n}\nconst parseGenProp = (txt) => {\n  const property = {\n    references: [],\n    databases: [],\n    steps: [],\n    description: '',\n    notes: '',\n  };\n  let currentRef = null;\n  let currentDB = null;\n  let currentStep = null;\n  let currentEV = null;\n  txt.split('\\n').forEach(line=>{\n    const key = line.substr(0,2);\n    const value = line.substr(3).trim();\n    if (key in mainKeys) property[mainKeys[key]] = value;\n\n    // References\n    if (key === 'RN') {\n      currentRef = {number: Number(value.replace('[','').replace(']',''))}\n      property.references.push(currentRef);\n    }\n    if (key in refKeys && currentRef) currentRef[refKeys[key]] = value;\n\n    // Databases\n    if (key === 'DC') {\n      currentDB = {title: value}\n      property.databases.push(currentDB);\n    }\n    if (key === 'DR' && currentDB) currentDB['link'] = value;\n\n    // Description\n    if (key === 'CC') property.description += value + ' ';\n\n    // Notes\n    if (key === '**') property.notes += value + ' ';\n\n    // Steps\n    if (key === 'SN') {\n      currentStep = {\n        number: Number(value),\n        evidence_list: [],\n      }\n      property.steps.push(currentStep);\n    }\n    if (key in stepKeys && currentStep) currentStep[stepKeys[key]] = value;\n    // Evidence\n    if (key === 'EV' && currentStep) {\n      currentEV = {evidence: value}\n      currentStep.evidence_list.push(currentEV);\n    }\n    if (key === 'TG' && currentStep && currentEV) currentEV['go'] = value;\n\n  });\n  return property;\n  // console.log(property);\n  // return `<pre>${JSON.stringify(property, null, '  ')}</pre>`;\n};\n\n\nexport default parseGenProp;\n","const parseGenPropHierarchy = (txt) => {\n  const ignore = ['GenProp0068']\n  const hierarchy = {};\n  txt.split('\\n').forEach(line => {\n    const parts = line.split('\\t');\n    if (parts[0].trim() !== '' &&\n        ignore.indexOf(parts[0])==-1 &&\n        ignore.indexOf(parts[2])==-1\n    ) {\n      if (!(parts[0] in hierarchy))\n        hierarchy[parts[0]] = {\n          id: parts[0],\n          name: parts[1],\n          // parents: [],\n          children: [],\n        }\n      if (!(parts[2] in hierarchy))\n        hierarchy[parts[2]] = {\n          id: parts[2],\n          name: parts[3],\n          // parents: [],\n          children: [],\n      }\n      hierarchy[parts[0]].children.push(hierarchy[parts[2]])\n    }\n  });\n  return hierarchy;\n}\n\nexport default parseGenPropHierarchy;\n","import showdown from \"showdown\";\nimport parseGenProp from \"./genprop-parser\";\nimport parseGenPropHierarchy from \"./genprop-hierarchy-parser\";\n\nclass GenomePropertiesWebsite {\n  constructor(selector) {\n    this.selector = selector;\n    this.container = document.querySelector(selector);\n    this.github = \"https://raw.githubusercontent.com/rdfinn/genome-properties/master\";\n    window.onhashchange = () => this.loadContent();\n    this.cache = {};\n    this.loadContent();\n    window.onclick = function(ev){\n      if (location.hash.match(/^#GenProp\\d{4}$/) &&\n          ev.target.localName === \"a\" &&\n          ev.target.parentNode.localName === \"li\" &&\n          ev.target.parentNode.className.indexOf(\"tabs-title\")>-1\n      ){\n        document.querySelectorAll(\"#step-tabs li a\").forEach(e=>e.setAttribute(\"aria-selected\", null));\n        document.querySelectorAll(\"#step-tabs li\").forEach(e=>e.classList.remove(\"is-active\"));\n        ev.target.setAttribute(\"aria-selected\", true);\n        ev.target.parentNode.classList.add(\"is-active\");\n        document.querySelectorAll(\"div[data-tabs-content=step-tabs] .tabs-panel\").forEach(e=>e.classList.remove(\"is-active\"));\n        const target = ev.target.getAttribute(\"target\");\n        document.querySelector(target).classList.add(\"is-active\");\n      } else if (ev.target.localName === \"a\" &&\n        ev.target.parentNode.localName === \"header\" &&\n        ev.target.parentNode.parentNode.localName === \"div\" &&\n        ev.target.parentNode.parentNode.className.indexOf(\"genome-property\")>-1\n      ){\n        const expanded =ev.target.parentNode.parentNode.className.indexOf(\"expanded\") > -1;\n        if (expanded){\n          ev.target.innerHTML = '▸';\n          ev.target.parentNode.parentNode.classList.remove(\"expanded\");\n        } else {\n          ev.target.innerHTML = '▾';\n          ev.target.parentNode.parentNode.classList.add(\"expanded\");\n        }\n      }\n    }\n    window.onchange = function(ev){\n      console.log(ev.target.id);\n      if (ev.target.id==='newfile'){\n\n        const oFiles = document.getElementById(\"newfile\").files;\n        for (let i=0; i < oFiles.length; i++){\n            const reader = new FileReader();\n            reader.fileToRead = oFiles[i];\n            reader.onload = function(evt) {\n              try {\n                viewer.load_genome_properties_text(evt.target.fileToRead.name, evt.target.result);\n              }catch(e){\n                  alert('Bad formatted file');\n                  console.error(e);\n              }\n            };\n            reader.readAsText(oFiles[i]);\n        }\n      }\n    }\n  }\n\n  loadContent(pageRequiredToChange=false) {\n    const resource = {\n      \"#about\": '/docs/background.rst',\n      \"#calculating\": '/docs/calculating.rst',\n      \"#docs\": '/docs/index.rst',\n      \"#funding\": '/docs/funding.rst',\n      \"#contributing\": 'docs/contributing.rst',\n      \"#contact\": 'docs/contact.rst',\n    };\n    switch (location.hash) {\n      case \"#home\": case \"\":\n        this.container.innerHTML = this.getHome();\n        break;\n      case \"#about\":\n      case \"#calculating\":\n      case \"#docs\":\n      case \"#funding\":\n      case \"#contributing\":\n      case \"#contact\":\n        this.container.innerHTML = this.getFromGithubAndMarkup2HTML(resource[location.hash]);\n        break;\n      case '#hierarchy':\n      case '#pathways':\n      case '#metapaths':\n      case '#systems':\n      case '#guilds':\n      case '#categories':\n        this.container.innerHTML = this.getBrowseTabs();\n        break;\n      case \"#viewer\":\n        this.container.innerHTML = this.getViewerHTML();\n        var d3 = gpv.d3,\n                GenomePropertiesViewer = gpv.GenomePropertiesViewer,\n                viewer = new GenomePropertiesViewer({\n                    element_selector: \"#gp-viewer\",\n                    controller_element_selector: \"#gp-selector\",\n                    server: \"http://www.ebi.ac.uk/~gsalazar/genome_property.php?org=\",\n                    hierarchy_path: \"./files/gp.dag.txt\",\n                    whitelist_path: \"https://raw.githubusercontent.com/ProteinsWebTeam/genome-properties-viewer/master/test-files/gp_white_list.json\",\n                    server_tax: \"./files/taxonomy.json\",\n                    height: 700\n                });\n          window.viewer = viewer;\n          d3.select(\".minimise\").on(\"click\",(d,i,c)=>{\n              const on = d3.select(c[i]).classed(\"on\");\n              d3.selectAll(\".top-controllers>div\")\n                      .style(\"max-height\", on?\"0px\":\"500px\")\n                      .style(\"overflow\", on?null:\"hidden\")\n                      .transition(200)\n                      .style(\"max-height\", on?\"500px\":\"0px\")\n                      .style(\"opacity\", on?1:0);\n              d3.selectAll(\".top-controllers\").transition(200).style(\"padding\", on?\"5px\":\"0px\");\n              d3.select(c[i]).classed(\"on\", !on);\n          });\n        break;\n      default:\n        if (location.hash.match(/^#GenProp\\d{4}$/)){\n          this.container.innerHTML = this.getGenProp(location.hash.substr(1));\n          return;\n        }\n        if (pageRequiredToChange)\n          this.container.innerHTML = \"404: Not found\";\n        // console.log(\"other\", location.hash);\n    }\n  }\n  embbedInSection(html){\n    return `\n    <div class=\"columns\">\n      <section>\n        ${html}\n      </section>\n    </div>\n    `;\n\n  }\n  markup2html(txt) {\n    const converter = new showdown.Converter();\n    return converter.makeHtml(txt);\n  }\n  getResource(key, url, loader){\n    if (key in this.cache)\n      return this.cache[key];\n    fetch(url)\n      .then(a=>a.text())\n      .then(a=>{\n        const html = loader(a);\n        this.cache[key] = this.embbedInSection(html);\n        this.loadContent(true);\n      })\n      .catch(a=>console.error(a));\n\n    return this.embbedInSection('loading...');\n  }\n  renderGenProp(property){\n    return `\n    <h2>${property.accession}</h2>\n      <h3>${property.name}</h3>\n      <span class=\"tag\">${property.type}</span> <span class=\"tag secondary\">Threshold: ${property.threshold}</span>\n      <br/><br/>\n      <div class=\"row\">\n        <h4>Description</h4>\n        <p>${this.renderDescription(property.description, property.accession)}</p>\n      </div>\n      <div class=\"row\">\n        <h4>Steps</h4>\n        <div class=\"medium-3 columns\">\n          <ul class=\"vertical tabs\" data-tabs id=\"step-tabs\">\n            ${property.steps.map((step,i) => `\n              <li class=\"tabs-title ${i===0?'is-active':''}\">\n                <a target=\"#panel${step.number}\" ${i===0?'aria-selected=\"true\"':''}>\n                  ${step.number}. ${step.id}\n                </a>\n              </li>\n            `).join('')}\n          </ul>\n        </div>\n        <div class=\"medium-9 columns\">\n          <div class=\"tabs-content\" data-tabs-content=\"step-tabs\">\n          ${property.steps.map((step,i) => `\n            <div class=\"tabs-panel ${i===0?'is-active':''}\" id=\"panel${step.number}\">\n              <h5>${step.id}</h5>\n              ${step.requires===\"1\"?'<span class=\"tag\">Required</span>':''}\n              <table>\n                <tr>\n                  <th>Evidence</th>\n                  <th>Go Terms</th>\n                </tr>\n                ${step.evidence_list.map((e,i) => `\n                  <tr>\n                    <td>${this.renderEvidence(e.evidence)}</td>\n                    <td>${this.renderEvidence(e.go)}</td>\n                  </tr>\n                `).join('')}\n              </table>\n            </div>\n          `).join('')}\n          </div>\n        </div>\n      </div>\n      <div class=\"row\">\n        <h4>Database Links</h4>\n        <ul>\n          ${property.databases.map(db => `\n            <li>${this.renderDatabaseLink(db.title, db.link)}</li>\n          `).join('')}\n        </ul>\n      </div>\n      <div class=\"row\">\n        <h4>References</h4>\n        <ul class=\"references\">\n          ${property.references.map(ref => `\n              <li class=\"reference\" id=\"${property.accession}-${ref.number}\">\n                <span class=\"index\">[${ref.number}]</span>\n                <span class=\"authors\">${ref.author}</span>\n                <span class=\"title\">${ref.title}</span>\n                <span class=\"citation\">${ref.citation}</span>\n                <span class=\"reference_id\">${ref.PMID}</span>\n                <a target=\"_blank\" rel=\"noopener\" href=\"https://europepmc.org/abstract/MED/${ref.PMID}\">EuropePMC</a>\n              </li>\n          `).join('')}\n        </ul>\n      </div>\n\n    `;\n  }\n  renderDescription(txt, acc){\n    return txt.replace(/\\[(\\d+)\\]/g, `<a href=\"#${acc}-$1\">[$1]</a>`);\n  }\n  renderDatabaseLink(title, link){\n    let a = link;\n    const parts = link.split(';').map(p => p.trim());\n    if (parts[0] === 'KEGG')\n      a = `<a\n        href=\"http://www.genome.jp/dbget-bin/www_bget?pathway:${parts[1]}\"\n      >KEGG</a>`;\n    else if (parts[0] === 'IUBMB')\n      a = `<a\n        href=\"http://www.chem.qmul.ac.uk/iubmb/enzyme/reaction/${parts[1]}/${parts[2]}.html\"\n      >IUBMB</a>`\n    else if (parts[0] === 'MetaCyc')\n      a = `<a\n        href=\"https://metacyc.org/META/NEW-IMAGE?type=NIL&object=${parts[1]}\"\n      >MetaCyc</a>`\n    return `<b>${title}</b>: ${a}`;\n  }\n  renderEvidence(txt){\n    if (!txt) return '';\n    const parts = txt.split(';');\n    return parts\n      .filter(p => p.trim()!=='')\n      .map(t => {\n        const term = t.trim();\n        if (term.startsWith(\"GO:\"))\n          return `<a href=\"http://www.ebi.ac.uk/QuickGO/GTerm?id=${term}\">${term}</a>`\n        if (term.startsWith(\"GenProp\"))\n          return `<a href=\"#${term}\">${term}</a>`\n        if (term.startsWith(\"IPR\"))\n          return `<a href=\"https://www.ebi.ac.uk/interpro/entry/${term}\">${term}</a>`\n        if (term.startsWith(\"TIGR\"))\n          return `<a href=\"http://www.jcvi.org/cgi-bin/tigrfams/HmmReportPage.cgi?acc=${term}\">${term}</a>`\n        else {\n          return term;\n        }\n      }).join(' - ')\n  }\n  renderGenPropHierarchy(hierarchy, expanded=true, level=1){\n    // console.log(hierarchy)\n    return `\n    <div class=\"genome-property ${expanded?'expanded':''}\">\n      <header>\n        ${!hierarchy.children.length?'・':`\n        <a style=\"border: 0;color: darkred;\">${expanded?'▾':'▸'}</a>\n        `}\n        <a href=\"#${hierarchy.id}\">${hierarchy.id}</a>: ${hierarchy.name}\n      </header>\n      ${!hierarchy.children.length?'':`\n        <div class=\"children\" style=\"\n          margin-left: ${level*10}px;\n        \">\n          ${hierarchy.children\n            .map(child => this.renderGenPropHierarchy(child, false, level+1))\n            .join('')}\n        </div>\n      `}\n    </div>\n    `;\n  }\n  getViewerHTML() {\n    return `\n      <div class=\"container\">\n        <div class=\"top-block\">\n            <div id=\"gp-controllers\" class=\"top-controllers\">\n                <div>\n                    <header>Taxonomy Options</header>\n                    <ul>\n                        <li><label for=\"tax-search\">Search:</label>\n                            <input type=\"text\" id=\"tax-search\">\n                        </li>\n                        <li>\n                            <label for=\"newfile\">Upload File: </label>\n                            <input type=\"file\" id=\"newfile\"/>\n                        </li>\n                        <li><label for=\"tax_label\">Labels:</label>\n                            <select id=\"tax_label\">\n                                <option value=\"name\">Species</option>\n                                <option value=\"id\">Tax ID</option>\n                                <option value=\"both\">Both</option>\n                            </select>\n                        </li>\n\n                    </ul>\n                </div>\n                <div>\n                    <header>Genome Properties Options</header>\n                    <ul>\n                        <li><label for=\"gp-selector\">Top level category:</label>\n                            <div id=\"gp-selector\" class=\"selector\"></div>\n                        </li>\n                        <li><label for=\"gp-filter\">Filter:</label>\n                            <input type=\"text\" id=\"gp-filter\">\n                        </li>\n                        <li><label for=\"gp_label\">Label:</label>\n                            <select id=\"gp_label\">\n                                <option value=\"name\">Name</option>\n                                <option value=\"id\">ID</option>\n                                <option value=\"both\">Both</option>\n                            </select>\n                        </li>\n                    </ul>\n                </div>\n                <div class=\"gp-legends\">\n                    <header>Legends</header>\n                </div>\n                <a class=\"minimise\"></a>\n            </div>\n        </div>\n        <div id=\"gp-viewer\"></div>\n        <div class=\"info-tooltip\"></div>\n    </div>`\n  }\n  getGenProp(acc){\n    const url = `${this.github}/data/${acc}/DESC`\n    return this.getResource(acc, url, txt => this.renderGenProp(parseGenProp(txt)))\n  }\n  getHome(){\n    return this.getResource('home', `${this.github}/docs/landing.rst`,\n    (txt) => {\n      return this.markup2html(\n        '<br/>' + txt\n          .replace(\"[BUTTON_BROWSE]\", '<a href=\"#browse\" class=\"button\">Browse</a>')\n          .replace(\"[BUTTON_VIEWER]\", '<a href=\"#viewer\" class=\"button\">Viewer</a>')\n      );\n    }\n  );\n  }\n  getFromGithubAndMarkup2HTML(path){\n    return this.getResource(path, `${this.github}${path}`, this.markup2html)\n  }\n  getBrowseTabs() {\n    const resource = {\n      \"#pathways\": '/docs/_stats/stats.PATHWAY',\n      \"#metapaths\": '/docs/_stats/stats.METAPATH',\n      \"#systems\": '/docs/_stats/stats.SYSTEM',\n      \"#guilds\": '/docs/_stats/stats.GUILD',\n      \"#categories\": '/docs/_stats/stats.CATEGORY',\n    };\n\n    const tabs = [\n      'Hierarchy', 'Pathways', 'Metapaths',\n      'Systems', 'Guilds', 'Categories'\n    ];\n    return `\n      <ul class=\"tabs\" data-tabs id=\"browse-tabs\">\n      ${tabs.map(tab => {\n        const hash = '#'+tab.toLowerCase();\n        const isActive = hash === location.hash;\n        return `\n          <li class=\"tabs-title ${isActive?'is-active':''}\" >\n            <a ${isActive?'aria-selected=\"true\"':''} href=\"${hash}\">${tab}</a>\n          </li>`;\n        }).join('')\n      }\n      </ul>\n      <br/>\n      ${\n        (location.hash==='#hierarchy') ?\n          this.getProps() :\n          this.getResource(\n            location.hash,\n            `${this.github}${resource[location.hash]}`,\n            this.renderStatsFile\n          )\n        }\n    `\n  }\n  renderStatsFile(txt){\n    return `\n    <div id=\"content-browse-tab\">\n      <ul>\n        ${txt.split('\\n').map(line=>{\n          if (line.trim()===\"\") return \"\";\n          const gp =line.split('\\t');\n          return `\n            <li>\n              <a href=\"#${gp[0]}\">${gp[0]}</a>: ${gp[1]}\n            </li>`\n        }).join('')}\n      </ul>\n    </div>`;\n  }\n  getProps(){\n    return this.getResource('props', 'files/gp.dag2.txt', txt => {\n      return this.renderGenPropHierarchy(parseGenPropHierarchy(txt)['GenProp0065'])\n      // return `<pre>${JSON.stringify(parseGenPropHierarchy(txt)['GenProp0065'], null, ' ')}</pre>`;\n    })\n  }\n}\n\nexport default GenomePropertiesWebsite;\n"],"names":["mainKeys","refKeys","stepKeys","parseGenProp","txt","property","currentRef","currentDB","currentStep","currentEV","split","forEach","key","line","substr","value","trim","number","Number","replace","references","push","title","databases","description","notes","steps","evidence","evidence_list","parseGenPropHierarchy","ignore","hierarchy","parts","indexOf","children","GenomePropertiesWebsite","selector","container","document","querySelector","github","onhashchange","loadContent","cache","onclick","ev","location","hash","match","target","localName","parentNode","className","querySelectorAll","e","setAttribute","classList","remove","add","getAttribute","expanded","innerHTML","onchange","log","id","oFiles","getElementById","files","i","length","reader","FileReader","fileToRead","onload","evt","load_genome_properties_text","name","result","error","readAsText","pageRequiredToChange","resource","getHome","getFromGithubAndMarkup2HTML","getBrowseTabs","getViewerHTML","d3","gpv","GenomePropertiesViewer","viewer","select","on","d","c","classed","selectAll","style","transition","getGenProp","html","converter","showdown","Converter","makeHtml","url","loader","then","a","text","embbedInSection","catch","console","accession","type","threshold","renderDescription","map","step","join","requires","renderEvidence","go","renderDatabaseLink","db","link","ref","author","citation","PMID","acc","p","filter","term","t","startsWith","level","renderGenPropHierarchy","child","getResource","renderGenProp","markup2html","path","tabs","tab","toLowerCase","isActive","getProps","renderStatsFile","gp"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}